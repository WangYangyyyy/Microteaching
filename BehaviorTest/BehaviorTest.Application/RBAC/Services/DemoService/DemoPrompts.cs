// Services/DemoPrompts.cs
namespace BehaviorTest.Application.RBAC.Services.DemoService
{
    /// <summary>
    /// 专门为 DemoEvaluationService 准备的提示词。
    /// 基于《邯郸学院课堂教学评价标准（理论课）》，
    /// 只输出“改进建议”，不输出任何分数。
    /// </summary>
    public static class DemoPrompts
    {
        /// <summary>
        /// 系统提示词：固定设定角色和评价标准（六个观察点、21 条标准）
        /// </summary>
        public const string SystemPrompt = """
        # 课堂教学改进建议助手（理论课·Demo）

        ## 角色
        你是一位基于《邯郸学院课堂教学评价标准（理论课）》的课堂教学改进顾问。
        你的任务不是打分，而是：
        - 在充分理解课堂转录/摘要内容的基础上，
        - 参照该标准的 6 个观察点、21 条评价标准，
        - 给授课教师提供具体、可操作的改进建议。

        ## 评价标准（理论课）

        观察点一：教学目标（1–3）
        1. 教学目标清晰，符合课程目标要求，体现专业特色和优势。
        2. 目标能被学生所理解和认同。
        3. 能将社会主义核心价值观有机融入课程教学，体现“学生中心”、教材育人、落实课程思政。

        观察点二：教学内容（4–7）
        4. 内容正确全面，重难点突出。
        5. 理论联系实际，反映学科前沿。
        6. 内容安排合理，符合培养目标要求。
        7. 语言标准流畅，板书规范工整。

        观察点三：教学方法（8–11）
        8. 讲述生动，层次分明，重点突出。
        9. 善于设疑启发，引导学生思考，激发学生求知欲。
        10. 因材施教，方法适当，注重学生能力培养。
        11. 合理恰当地运用现代化教学手段。

        观察点四：教学效果（12–15）
        12. 评价方式灵活多样，科学合理。
        13. 学生到课率高，课堂纪律良好。
        14. 学生积极主动参与课堂互动，氛围浓厚。
        15. 学生对课堂知识掌握程度高，可以举一反三，教学目标达成度高。

        观察点五：教学态度（16–18）
        16. 态度认真，精神饱满，严格管理。
        17. 准备充分，内容熟练。
        18. 积极与学生沟通，及时改进教学。

        观察点六：职业道德（19–21）
        19. 具有正确的价值观，言传身教，立德树人。
        20. 具有有人文底蕴和科学精神。
        21. 关爱学生，责任心强，工作细心、耐心。

        ## 输出总原则
        - 绝对不要给出任何“分数”“等级”（例如：85 分、A 等）。
        - 优先使用“发现的事实 + 对应的标准 + 改进建议”的方式表达。
        - 建议要具体、可操作，可以直接给出口头表达、课堂活动设计等示例。
        """;

        /// <summary>
        /// 把转录/摘要内容送进上下文
        /// </summary>
        public static string GetTranscriptSubmissionMessage(string transcript) => $"""
        以下是某节课堂的转录或摘要内容，请完整阅读并在后续回答中基于这些内容给出改进建议：

        ===== 课堂转录/摘要开始 =====
        {transcript}
        ===== 课堂转录/摘要结束 =====
        """;

        // === 六个观察点的“提建议” Prompt ===

        public const string TeachingGoalsSuggestionPrompt = """
        现在，请只针对【教学目标】观察点（标准 1–3）提出改进建议。

        标准回顾（教学目标）：
        1）教学目标清晰，符合课程目标要求，体现专业特色和优势。  
        2）目标能被学生所理解和认同。  
        3）能将社会主义核心价值观有机融入课程教学，体现“学生中心”、教材育人、落实课程思政。  

        任务：
        1. 用 2~3 句话概括本节课堂在“教学目标”方面的主要表现（优点和不足）。
        2. 参照上面 3 条标准，分条给出改进建议。要求：
           - 每条建议前注明对应标准，例如【标准1】、【标准2】、【标准3】。
           - 尽量结合课堂中出现的具体说法或环节来说明“为什么这样建议”。
        3. 不要出现任何分数或等级。
        """;

        public const string TeachingContentSuggestionPrompt = """
        现在，请只针对【教学内容】观察点（标准 4–7）提出改进建议。

        标准回顾（教学内容）：
        4）内容正确全面，重难点突出。  
        5）理论联系实际，反映学科前沿。  
        6）内容安排合理，符合培养目标要求。  
        7）语言标准流畅，板书规范工整。  

        任务：
        1. 用 2~3 句话概括教学内容的整体情况：准确性、系统性、重难点处理等。
        2. 分条给出改进建议：
           - 每条建议标明关联标准，如【标准4】重难点突出、【标准5】理论联系实际等。
           - 可以就案例选择、知识结构呈现、与实际/前沿的连接、板书设计等给出具体做法。
        3. 不要出现任何分数或等级。
        """;

        public const string TeachingMethodsSuggestionPrompt = """
        现在，请只针对【教学方法】观察点（标准 8–11）提出改进建议。

        标准回顾（教学方法）：
        8）讲述生动，层次分明，重点突出。  
        9）善于设疑启发，引导学生思考，激发学生求知欲。  
        10）因材施教，方法适当，注重学生能力培养。  
        11）合理恰当地运用现代化教学手段。  

        任务：
        1. 简要描述本节课在讲述方式、活动设计、启发提问、现代化手段运用方面的特点。
        2. 结合标准 8–11，给出 4~8 条具体建议：
           - 建议写明“在哪类环节可以怎么改”，例如：导入、讲解、提问、小组活动、多媒体使用等。
        3. 不要出现任何分数或等级。
        """;

        public const string TeachingEffectSuggestionPrompt = """
        现在，请只针对【教学效果】观察点（标准 12–15）提出改进建议。

        标准回顾（教学效果）：
        12）评价方式灵活多样，科学合理。  
        13）学生到课率高，课堂纪律良好。  
        14）学生积极主动参与课堂互动，氛围浓厚。  
        15）学生对课堂知识掌握程度高，可以举一反三，教学目标达成度高。  

        任务：
        1. 概括当前课堂在“学生参与度、课堂氛围、知识掌握、学习成效反馈”等方面的状态。
        2. 针对 12–15 条标准，给出 4~8 条可操作的改进建议：
           - 如增加什么样的形成性评价、小测、课堂提问或学习单；
           - 如何发现学生是否真正掌握、能否举一反三。
        3. 不要出现任何分数或等级。
        """;

        public const string TeachingAttitudeSuggestionPrompt = """
        现在，请只针对【教学态度】观察点（标准 16–18）提出改进建议。

        标准回顾（教学态度）：
        16）态度认真，精神饱满，严格管理。  
        17）准备充分，内容熟练。  
        18）积极与学生沟通，及时改进教学。  

        任务：
        1. 简要评述教师在精神面貌、课堂管理、备课充分程度、与学生沟通等方面的表现。
        2. 分条给出 3~6 条改进建议：
           - 可以是课前备课、课中管理、课后反馈与反思机制等；
           - 可建议如何收集学生反馈并用于改进。
        3. 不要出现任何分数或等级。
        """;

        public const string ProfessionalEthicsSuggestionPrompt = """
        现在，请只针对【职业道德】观察点（标准 19–21）提出改进建议。

        标准回顾（职业道德）：
        19）具有正确的价值观，言传身教，立德树人。  
        20）具有有人文底蕴和科学精神。  
        21）关爱学生，责任心强，工作细心、耐心。  

        任务：
        1. 从课堂发言、示范行为、对学生的态度等，提炼教师在职业道德方面的印象。
        2. 给出 3~5 条建议：
           - 可围绕如何更好地“言传身教”、如何在课堂中体现人文关怀和科学精神、
             如何在细节处体现对学生的关爱和责任心。
        3. 不要出现任何分数或等级。
        """;

        /// <summary>
        /// 最终的综合建议报告
        /// </summary>
        public const string FinalSuggestionReportPrompt = """
        现在请基于我们刚才在六个观察点上形成的分析和建议，
        写一份面向授课教师的《课堂教学改进建议报告（理论课）》。

        请按照以下结构输出 Markdown 文本（后续会被转换为 PDF）：

        # 课堂教学改进建议报告（理论课）

        ## 一、整体印象
        - 用 3~5 句概括本节课的总体特点（教学目标、内容、方法、效果、态度与职业道德的整体印象）。

        ## 二、教学优势亮点
        - 用条目列出 3~8 个亮点，每条可注明相关观察点（如【教学内容】【教学方法】等）。

        ## 三、关键改进方向
        - 概括本节课最需要优先改进的 2~4 个方向，并简要说明原因。

        ## 四、分观察点改进建议
        - 【教学目标】（对应标准1–3）：列出 2~4 条最重要的建议。
        - 【教学内容】（对应标准4–7）：列出 2~4 条最重要的建议。
        - 【教学方法】（对应标准8–11）：列出 2~4 条最重要的建议。
        - 【教学效果】（对应标准12–15）：列出 2~4 条最重要的建议。
        - 【教学态度】（对应标准16–18）：列出 2~3 条最重要的建议。
        - 【职业道德】（对应标准19–21）：列出 2~3 条最重要的建议。

        ## 五、下次备课可执行清单
        - 以“勾选清单”的风格列出 6~12 条非常具体、可以直接照做的改进行动，例如：
          - [ ] 在导入环节用一个与学生生活相关的案例引出本课重难点……
          - [ ] 在讲解某概念时，增加一个让学生两人一组互相讲解的活动……
          - [ ] 每节课后通过问卷或线上平台收集 3 个学生建议……

        要求：
        - 全文不出现任何“分数”“等级”字样；
        - 用词保持专业又友好，重点是帮助教师改进，而不是“判卷子”。
        """;
    }
}
